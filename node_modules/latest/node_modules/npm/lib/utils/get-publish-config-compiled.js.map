{"version":3,"sources":["get-publish-config.js"],"names":[],"mappings":";;AAAA,IAAI,IAAI,GAAG,OAAO,CAAC,mBAAmB,CAAC,CAAC,IAAI,CAAA;AAC5C,IAAI,gBAAgB,GAAG,OAAO,CAAC,4BAA4B,CAAC,CAAA;AAC5D,IAAI,GAAG,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAA;;AAE3B,MAAM,CAAC,OAAO,GAAG,gBAAgB,CAAA;;AAEjC,SAAS,gBAAgB,CAAE,aAAa,EAAE,aAAa,EAAE,aAAa,EAAE;AACtE,MAAI,MAAM,GAAG,aAAa,CAAA;AAC1B,MAAI,MAAM,GAAG,aAAa,CAAA;AAC1B,KAAG,CAAC,OAAO,CAAC,kBAAkB,EAAE,aAAa,CAAC,CAAA;AAC9C,MAAI,aAAa,EAAE;AACjB,UAAM,GAAG,IAAI,IAAI,CAAC,aAAa,CAAC,CAAA;AAChC,UAAM,CAAC,IAAI,GAAG,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAA;;;;AAIpD,UAAM,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE;AAC/D,OAAC,CAAC,CAAC,CAAC,GAAG,aAAa,CAAC,CAAC,CAAC,CAAA;AACvB,aAAO,CAAC,CAAA;KACT,EAAE,EAAE,CAAC,CAAC,CAAA;AACP,UAAM,GAAG,IAAI,gBAAgB,CAAC,MAAM,CAAC,CAAA;GACtC;;AAED,SAAO,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,CAAA;CAC1C","file":"get-publish-config-compiled.js","sourcesContent":["var Conf = require('../config/core.js').Conf\nvar CachingRegClient = require('../cache/caching-client.js')\nvar log = require('npmlog')\n\nmodule.exports = getPublishConfig\n\nfunction getPublishConfig (publishConfig, defaultConfig, defaultClient) {\n  var config = defaultConfig\n  var client = defaultClient\n  log.verbose('getPublishConfig', publishConfig)\n  if (publishConfig) {\n    config = new Conf(defaultConfig)\n    config.save = defaultConfig.save.bind(defaultConfig)\n\n    // don't modify the actual publishConfig object, in case we have\n    // to set a login token or some other data.\n    config.unshift(Object.keys(publishConfig).reduce(function (s, k) {\n      s[k] = publishConfig[k]\n      return s\n    }, {}))\n    client = new CachingRegClient(config)\n  }\n\n  return { config: config, client: client }\n}\n"]}