{"version":3,"sources":["installed-deep.js"],"names":[],"mappings":";;AAAA,MAAM,CAAC,OAAO,GAAG,aAAa,CAAA;;AAE9B,IAAI,GAAG,GAAG,OAAO,CAAC,cAAc,CAAC;IAC7B,aAAa,GAAG,OAAO,CAAC,gBAAgB,CAAC,CAAA;;AAE7C,SAAS,aAAa,CAAE,IAAI,EAAE,EAAE,EAAE;AAChC,MAAI,KAAK;MACL,MAAM;MACN,KAAK,GAAG,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC;MAC/B,GAAG,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,EAAE,IAAI,EAAE,CAAA;;AAErC,MAAI,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE,KAAK,GAAG,EAAE,EAAE,IAAI,EAAE,CAAA,KAC3C,aAAa,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,EAAE,EAAE,IAAI,EAAE;AACtD,SAAK,GAAG,QAAQ,CAAC,IAAI,IAAI,EAAE,CAAC,CAAA;AAC5B,QAAI,EAAE,CAAA;GACP,CAAC,CAAA;;AAEF,eAAa,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE,GAAG,EAAE,UAAU,EAAE,EAAE,IAAI,EAAE;AAC/D,UAAM,GAAG,QAAQ,CAAC,IAAI,IAAI,EAAE,CAAC,CAAA;AAC7B,QAAI,EAAE,CAAA;GACP,CAAC,CAAA;;AAEF,WAAS,SAAS,CAAE,CAAC,EAAE,CAAC,EAAE;AACxB,QAAI,CAAC,CAAC,QAAQ,IAAI,CAAC,EAAE;AACnB,UAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,OAAO,CAAC,CAAA;AAC3B,OAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAA;KACrB;AACD,QAAI,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,CAAA;AACd,UAAM,CAAC,IAAI,CAAC,CAAC,CAAC,YAAY,IAAI,EAAE,CAAC,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE;AACvD,eAAS,CAAC,CAAC,CAAC,YAAY,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAA;KAClC,CAAC,CAAA;AACF,WAAO,CAAC,CAAA;GACT;AACD,WAAS,QAAQ,CAAE,CAAC,EAAE;AACpB,WAAO,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAA;GACjC;;AAED,WAAS,IAAI,GAAI;AACf,QAAI,CAAC,KAAK,IAAI,CAAC,MAAM,EAAE,OAAM;AAC7B,QAAI,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE;AAC7B,YAAM,GAAG,MAAM,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE;AAC/B,eAAO,CAAC,CAAC,EAAE,IAAI,CAAC,CAAA;OACjB,CAAC,CAAA;KACH;AACD,QAAI,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAA;AAChC,WAAO,EAAE,CAAC,IAAI,EAAE,KAAK,CAAC,CAAA;GACvB;CAEF","file":"installed-deep-compiled.js","sourcesContent":["module.exports = installedDeep\n\nvar npm = require(\"../../npm.js\")\n  , readInstalled = require(\"read-installed\")\n\nfunction installedDeep (opts, cb) {\n  var local\n    , global\n    , depth = npm.config.get(\"depth\")\n    , opt = { depth: depth, dev: true }\n\n  if (npm.config.get(\"global\")) local = [], next()\n  else readInstalled(npm.prefix, opt, function (er, data) {\n    local = getNames(data || {})\n    next()\n  })\n\n  readInstalled(npm.config.get(\"prefix\"), opt, function (er, data) {\n    global = getNames(data || {})\n    next()\n  })\n\n  function getNames_ (d, n) {\n    if (d.realName && n) {\n      if (n[d.realName]) return n\n      n[d.realName] = true\n    }\n    if (!n) n = {}\n    Object.keys(d.dependencies || {}).forEach(function (dep) {\n      getNames_(d.dependencies[dep], n)\n    })\n    return n\n  }\n  function getNames (d) {\n    return Object.keys(getNames_(d))\n  }\n\n  function next () {\n    if (!local || !global) return\n    if (!npm.config.get(\"global\")) {\n      global = global.map(function (g) {\n        return [g, \"-g\"]\n      })\n    }\n    var names = local.concat(global)\n    return cb(null, names)\n  }\n\n}\n\n"]}