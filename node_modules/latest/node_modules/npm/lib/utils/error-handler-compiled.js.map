{"version":3,"sources":["error-handler.js"],"names":[],"mappings":"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","file":"error-handler-compiled.js","sourcesContent":["\nmodule.exports = errorHandler\n\nvar cbCalled = false\n  , log = require(\"npmlog\")\n  , npm = require(\"../npm.js\")\n  , rm = require(\"rimraf\")\n  , itWorked = false\n  , path = require(\"path\")\n  , wroteLogFile = false\n  , exitCode = 0\n  , rollbacks = npm.rollbacks\n  , chain = require(\"slide\").chain\n  , writeStream = require(\"fs-write-stream-atomic\")\n\n\nprocess.on(\"exit\", function (code) {\n  // console.error(\"exit\", code)\n  if (!npm.config || !npm.config.loaded) return\n  if (code) itWorked = false\n  if (itWorked) log.info(\"ok\")\n  else {\n    if (!cbCalled) {\n      log.error(\"\", \"cb() never called!\")\n    }\n\n    if (wroteLogFile) {\n      // just a line break\n      if (log.levels[log.level] <= log.levels.error) console.error(\"\")\n\n      log.error(\"\",\n                [\"Please include the following file with any support request:\"\n                ,\"    \" + path.resolve(\"npm-debug.log\")\n                ].join(\"\\n\"))\n      wroteLogFile = false\n    }\n    if (code) {\n      log.error(\"code\", code)\n    }\n  }\n\n  var doExit = npm.config.get(\"_exit\")\n  if (doExit) {\n    // actually exit.\n    if (exitCode === 0 && !itWorked) {\n      exitCode = 1\n    }\n    if (exitCode !== 0) process.exit(exitCode)\n  } else {\n    itWorked = false // ready for next exit\n  }\n})\n\nfunction exit (code, noLog) {\n  exitCode = exitCode || process.exitCode || code\n\n  var doExit = npm.config ? npm.config.get(\"_exit\") : true\n  log.verbose(\"exit\", [code, doExit])\n  if (log.level === \"silent\") noLog = true\n\n  if (rollbacks.length) {\n    chain(rollbacks.map(function (f) {\n      return function (cb) {\n        npm.commands.unbuild([f], true, cb)\n      }\n    }), function (er) {\n      if (er) {\n        log.error(\"error rolling back\", er)\n        if (!code) errorHandler(er)\n        else if (noLog) rm(\"npm-debug.log\", reallyExit.bind(null, er))\n        else writeLogFile(reallyExit.bind(this, er))\n      } else {\n        if (!noLog && code) writeLogFile(reallyExit)\n        else rm(\"npm-debug.log\", reallyExit)\n      }\n    })\n    rollbacks.length = 0\n  }\n  else if (code && !noLog) writeLogFile(reallyExit)\n  else rm(\"npm-debug.log\", reallyExit)\n\n  function reallyExit (er) {\n    if (er && !code) code = typeof er.errno === \"number\" ? er.errno : 1\n\n    // truncate once it's been written.\n    log.record.length = 0\n\n    itWorked = !code\n\n    // just emit a fake exit event.\n    // if we're really exiting, then let it exit on its own, so that\n    // in-process stuff can finish or clean up first.\n    if (!doExit) process.emit(\"exit\", code)\n    npm.spinner.stop()\n  }\n}\n\n\nfunction errorHandler (er) {\n  // console.error(\"errorHandler\", er)\n  if (!npm.config || !npm.config.loaded) {\n    // logging won't work unless we pretend that it's ready\n    er = er || new Error(\"Exit prior to config file resolving.\")\n    console.error(er.stack || er.message)\n  }\n\n  if (cbCalled) {\n    er = er || new Error(\"Callback called more than once.\")\n  }\n\n  cbCalled = true\n  if (!er) return exit(0)\n  if (typeof er === \"string\") {\n    log.error(\"\", er)\n    return exit(1, true)\n  } else if (!(er instanceof Error)) {\n    log.error(\"weird error\", er)\n    return exit(1, true)\n  }\n\n  var m = er.code || er.message.match(/^(?:Error: )?(E[A-Z]+)/)\n  if (m && !er.code) er.code = m\n\n  ; [ \"type\"\n    , \"fstream_path\"\n    , \"fstream_unc_path\"\n    , \"fstream_type\"\n    , \"fstream_class\"\n    , \"fstream_finish_call\"\n    , \"fstream_linkpath\"\n    , \"stack\"\n    , \"fstream_stack\"\n    , \"statusCode\"\n    , \"pkgid\"\n    ].forEach(function (k) {\n      var v = er[k]\n      if (!v) return\n      if (k === \"fstream_stack\") v = v.join(\"\\n\")\n      log.verbose(k, v)\n    })\n\n  log.verbose(\"cwd\", process.cwd())\n\n  var os = require(\"os\")\n  // log.error(\"System\", os.type() + \" \" + os.release())\n  // log.error(\"command\", process.argv.map(JSON.stringify).join(\" \"))\n  // log.error(\"node -v\", process.version)\n  // log.error(\"npm -v\", npm.version)\n  log.error(\"\", os.type() + \" \" + os.release())\n  log.error(\"argv\", process.argv.map(JSON.stringify).join(\" \"))\n  log.error(\"node\", process.version)\n  log.error(\"npm \", \"v\" + npm.version)\n\n  ; [ \"file\"\n    , \"path\"\n    , \"code\"\n    , \"errno\"\n    , \"syscall\"\n    ].forEach(function (k) {\n      var v = er[k]\n      if (v) log.error(k, v)\n    })\n\n  // just a line break\n  if (log.levels[log.level] <= log.levels.error) console.error(\"\")\n\n  switch (er.code) {\n  case \"ECONNREFUSED\":\n    log.error(\"\", er)\n    log.error(\"\", [\"\\nIf you are behind a proxy, please make sure that the\"\n              ,\"'proxy' config is set properly.  See: 'npm help config'\"\n              ].join(\"\\n\"))\n    break\n\n  case \"EACCES\":\n  case \"EPERM\":\n    log.error(\"\", er)\n    log.error(\"\", [\"\\nPlease try running this command again as root/Administrator.\"\n              ].join(\"\\n\"))\n    break\n\n  case \"ELIFECYCLE\":\n    log.error(\"\", er.message)\n    log.error(\"\", [\"\",\"Failed at the \"+er.pkgid+\" \"+er.stage+\" script '\"+er.script+\"'.\"\n              ,\"This is most likely a problem with the \"+er.pkgname+\" package,\"\n              ,\"not with npm itself.\"\n              ,\"Tell the author that this fails on your system:\"\n              ,\"    \"+er.script\n              ,\"You can get their info via:\"\n              ,\"    npm owner ls \"+er.pkgname\n              ,\"There is likely additional logging output above.\"\n              ].join(\"\\n\"))\n    break\n\n  case \"ENOGIT\":\n    log.error(\"\", er.message)\n    log.error(\"\", [\"\",\"Failed using git.\"\n              ,\"This is most likely not a problem with npm itself.\"\n              ,\"Please check if you have git installed and in your PATH.\"\n              ].join(\"\\n\"))\n    break\n\n  case \"EJSONPARSE\":\n    log.error(\"\", er.message)\n    log.error(\"\", \"File: \"+er.file)\n    log.error(\"\", [\"Failed to parse package.json data.\"\n              ,\"package.json must be actual JSON, not just JavaScript.\"\n              ,\"\",\"This is not a bug in npm.\"\n              ,\"Tell the package author to fix their package.json file.\"\n              ].join(\"\\n\"), \"JSON.parse\")\n    break\n\n  // TODO(isaacs)\n  // Add a special case here for E401 and E403 explaining auth issues?\n\n  case \"E404\":\n    var msg = [er.message]\n    if (er.pkgid && er.pkgid !== \"-\") {\n      msg.push(\"\", \"'\"+er.pkgid+\"' is not in the npm registry.\"\n              ,\"You should bug the author to publish it (or use the name yourself!)\")\n      if (er.parent) {\n        msg.push(\"It was specified as a dependency of '\"+er.parent+\"'\")\n      }\n      msg.push(\"\\nNote that you can also install from a\"\n              ,\"tarball, folder, http url, or git url.\")\n    }\n    // There's no need to have 404 in the message as well.\n    msg[0] = msg[0].replace(/^404\\s+/, \"\")\n    log.error(\"404\", msg.join(\"\\n\"))\n    break\n\n  case \"EPUBLISHCONFLICT\":\n    log.error(\"publish fail\", [\"Cannot publish over existing version.\"\n              ,\"Update the 'version' field in package.json and try again.\"\n              ,\"\"\n              ,\"To automatically increment version numbers, see:\"\n              ,\"    npm help version\"\n              ].join(\"\\n\"))\n    break\n\n  case \"EISGIT\":\n    log.error(\"git\", [er.message\n              ,\"    \"+er.path\n              ,\"Refusing to remove it. Update manually,\"\n              ,\"or move it out of the way first.\"\n              ].join(\"\\n\"))\n    break\n\n  case \"ECYCLE\":\n    log.error(\"cycle\", [er.message\n              ,\"While installing: \"+er.pkgid\n              ,\"Found a pathological dependency case that npm cannot solve.\"\n              ,\"Please report this to the package author.\"\n              ].join(\"\\n\"))\n    break\n\n  case \"EBADPLATFORM\":\n    log.error(\"notsup\", [er.message\n              ,\"Not compatible with your operating system or architecture: \"+er.pkgid\n              ,\"Valid OS:    \"+er.os.join(\",\")\n              ,\"Valid Arch:  \"+er.cpu.join(\",\")\n              ,\"Actual OS:   \"+process.platform\n              ,\"Actual Arch: \"+process.arch\n              ].join(\"\\n\"))\n    break\n\n  case \"EEXIST\":\n    log.error([er.message\n              ,\"File exists: \"+er.path\n              ,\"Move it away, and try again.\"].join(\"\\n\"))\n    break\n\n  case \"ENEEDAUTH\":\n    log.error(\"need auth\", [er.message\n              ,\"You need to authorize this machine using `npm adduser`\"\n              ].join(\"\\n\"))\n    break\n\n  case \"EPEERINVALID\":\n    var peerErrors = Object.keys(er.peersDepending).map(function (peer) {\n      return \"Peer \" + peer + \" wants \" + er.packageName + \"@\"\n        + er.peersDepending[peer]\n    })\n    log.error(\"peerinvalid\", [er.message].concat(peerErrors).join(\"\\n\"))\n    break\n\n  case \"ECONNRESET\":\n  case \"ENOTFOUND\":\n  case \"ETIMEDOUT\":\n  case \"EAI_FAIL\":\n    log.error(\"network\", [er.message\n              ,\"This is most likely not a problem with npm itself\"\n              ,\"and is related to network connectivity.\"\n              ,\"In most cases you are behind a proxy or have bad network settings.\"\n              ,\"\\nIf you are behind a proxy, please make sure that the\"\n              ,\"'proxy' config is set properly.  See: 'npm help config'\"\n              ].join(\"\\n\"))\n    break\n\n  case \"ENOPACKAGEJSON\":\n    log.error(\"package.json\", [er.message\n              ,\"This is most likely not a problem with npm itself.\"\n              ,\"npm can't find a package.json file in your current directory.\"\n              ].join(\"\\n\"))\n    break\n\n  case \"ETARGET\":\n    var msg = [er.message\n              ,\"This is most likely not a problem with npm itself.\"\n              ,\"In most cases you or one of your dependencies are requesting\"\n              ,\"a package version that doesn't exist.\"\n              ]\n      if (er.parent) {\n        msg.push(\"\\nIt was specified as a dependency of '\"+er.parent+\"'\\n\")\n      }\n      log.error(\"notarget\", msg.join(\"\\n\"))\n    break\n\n  case \"ENOTSUP\":\n    if (er.required) {\n      log.error(\"notsup\", [er.message\n                ,\"Not compatible with your version of node/npm: \"+er.pkgid\n                ,\"Required: \"+JSON.stringify(er.required)\n                ,\"Actual:   \"\n                +JSON.stringify({npm:npm.version\n                                ,node:npm.config.get(\"node-version\")})\n                ].join(\"\\n\"))\n      break\n    } // else passthrough\n\n  case \"ENOSPC\":\n    log.error(\"nospc\", [er.message\n              ,\"This is most likely not a problem with npm itself\"\n              ,\"and is related to insufficient space on your system.\"\n              ].join(\"\\n\"))\n    break\n\n  case \"EROFS\":\n    log.error(\"rofs\", [er.message\n              ,\"This is most likely not a problem with npm itself\"\n              ,\"and is related to the file system being read-only.\"\n              ,\"\\nOften virtualized file systems, or other file systems\"\n              ,\"that don't support symlinks, give this error.\"\n              ].join(\"\\n\"))\n    break\n\n  case \"ENOENT\":\n    log.error(\"enoent\", [er.message\n              ,\"This is most likely not a problem with npm itself\"\n              ,\"and is related to npm not being able to find a file.\"\n              ,er.file?\"\\nCheck if the file '\"+er.file+\"' is present.\":\"\"\n              ].join(\"\\n\"))\n    break\n\n  default:\n    log.error(\"\", er.message || er)\n    log.error(\"\", [\"\", \"If you need help, you may report this error at:\"\n                  ,\"    <https://github.com/npm/npm/issues>\"\n                  ].join(\"\\n\"))\n    break\n  }\n\n  exit(typeof er.errno === \"number\" ? er.errno : 1)\n}\n\nvar writingLogFile = false\nfunction writeLogFile (cb) {\n  if (writingLogFile) return cb()\n  writingLogFile = true\n  wroteLogFile = true\n\n  var fstr = writeStream(\"npm-debug.log\")\n    , os = require(\"os\")\n    , out = \"\"\n\n  log.record.forEach(function (m) {\n    var pref = [m.id, m.level]\n    if (m.prefix) pref.push(m.prefix)\n    pref = pref.join(\" \")\n\n    m.message.trim().split(/\\r?\\n/).map(function (line) {\n      return (pref + \" \" + line).trim()\n    }).forEach(function (line) {\n      out += line + os.EOL\n    })\n  })\n\n  fstr.end(out)\n  fstr.on(\"close\", cb)\n}\n"]}