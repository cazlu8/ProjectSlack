{"version":3,"sources":["view.js"],"names":[],"mappings":"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","file":"view-compiled.js","sourcesContent":["// npm view [pkg [pkg ...]]\n\nmodule.exports = view\nview.usage = \"npm view pkg[@version] [<field>[.subfield]...]\"\n\nvar npm = require(\"./npm.js\")\n  , readJson = require(\"read-package-json\")\n  , log = require(\"npmlog\")\n  , util = require(\"util\")\n  , semver = require(\"semver\")\n  , mapToRegistry = require(\"./utils/map-to-registry.js\")\n  , npa = require(\"npm-package-arg\")\n  , path = require(\"path\")\n\nview.completion = function (opts, cb) {\n  if (opts.conf.argv.remain.length <= 2) {\n    // FIXME: there used to be registry completion here, but it stopped making\n    // sense somewhere around 50,000 packages on the registry\n    return cb()\n  }\n  // have the package, get the fields.\n  var tag = npm.config.get(\"tag\")\n  mapToRegistry(opts.conf.argv.remain[2], npm.config, function (er, uri, auth) {\n    if (er) return cb(er)\n\n    npm.registry.get(uri, { auth : auth }, function (er, d) {\n      if (er) return cb(er)\n      var dv = d.versions[d[\"dist-tags\"][tag]]\n        , fields = []\n      d.versions = Object.keys(d.versions).sort(semver.compareLoose)\n      fields = getFields(d).concat(getFields(dv))\n      cb(null, fields)\n    })\n  })\n\n  function getFields (d, f, pref) {\n    f = f || []\n    if (!d) return f\n    pref = pref || []\n    Object.keys(d).forEach(function (k) {\n      if (k.charAt(0) === \"_\" || k.indexOf(\".\") !== -1) return\n      var p = pref.concat(k).join(\".\")\n      f.push(p)\n      if (Array.isArray(d[k])) {\n        d[k].forEach(function (val, i) {\n          var pi = p + \"[\" + i + \"]\"\n          if (val && typeof val === \"object\") getFields(val, f, [p])\n          else f.push(pi)\n        })\n        return\n      }\n      if (typeof d[k] === \"object\") getFields(d[k], f, [p])\n    })\n    return f\n  }\n}\n\nfunction view (args, silent, cb) {\n  if (typeof cb !== \"function\") cb = silent, silent = false\n\n  if (!args.length) args = [\".\"]\n\n  var pkg = args.shift()\n    , nv = npa(pkg)\n    , name = nv.name\n    , local = (name === \".\" || !name)\n\n  if (npm.config.get(\"global\") && local) {\n    return cb(new Error(\"Cannot use view command in global mode.\"))\n  }\n\n  if (local) {\n    var dir = npm.prefix\n    readJson(path.resolve(dir, \"package.json\"), function (er, d) {\n      d = d || {}\n      if (er && er.code !== \"ENOENT\" && er.code !== \"ENOTDIR\") return cb(er)\n      if (!d.name) return cb(new Error(\"Invalid package.json\"))\n\n      var p = d.name\n      nv = npa(p)\n      if (pkg && ~pkg.indexOf(\"@\")) {\n        nv.rawSpec = pkg.split(\"@\")[pkg.indexOf(\"@\")]\n      }\n\n      fetchAndRead(nv, args, silent, cb)\n    })\n  } else {\n    fetchAndRead(nv, args, silent, cb)\n  }\n}\n\nfunction fetchAndRead (nv, args, silent, cb) {\n  // get the data about this package\n  var name = nv.name\n    , version = nv.rawSpec || npm.config.get(\"tag\")\n\n  mapToRegistry(name, npm.config, function (er, uri, auth) {\n    if (er) return cb(er)\n\n    npm.registry.get(uri, { auth : auth }, function (er, data) {\n      if (er) return cb(er)\n      if (data[\"dist-tags\"] && data[\"dist-tags\"].hasOwnProperty(version)) {\n        version = data[\"dist-tags\"][version]\n      }\n\n      if (data.time && data.time.unpublished) {\n        var u = data.time.unpublished\n        er = new Error(\"Unpublished by \" + u.name + \" on \" + u.time)\n        er.statusCode = 404\n        er.code = \"E404\"\n        er.pkgid = data._id\n        return cb(er, data)\n      }\n\n\n      var results = []\n        , error = null\n        , versions = data.versions || {}\n      data.versions = Object.keys(versions).sort(semver.compareLoose)\n      if (!args.length) args = [\"\"]\n\n      // remove readme unless we asked for it\n      if (-1 === args.indexOf(\"readme\")) {\n        delete data.readme\n      }\n\n      Object.keys(versions).forEach(function (v) {\n        if (semver.satisfies(v, version, true)) args.forEach(function (args) {\n          // remove readme unless we asked for it\n          if (-1 === args.indexOf(\"readme\")) {\n            delete versions[v].readme\n          }\n          results.push(showFields(data, versions[v], args))\n        })\n      })\n      results = results.reduce(reducer, {})\n      var retval = results\n\n      if (args.length === 1 && args[0] === \"\") {\n        retval = cleanBlanks(retval)\n        log.silly(\"cleanup\", retval)\n      }\n\n      if (error || silent) cb(error, retval)\n      else printData(results, data._id, cb.bind(null, error, retval))\n    })\n  })\n}\n\nfunction cleanBlanks (obj) {\n  var clean = {}\n  Object.keys(obj).forEach(function (version) {\n    clean[version] = obj[version][\"\"]\n  })\n  return clean\n}\n\nfunction reducer (l, r) {\n  if (r) Object.keys(r).forEach(function (v) {\n    l[v] = l[v] || {}\n    Object.keys(r[v]).forEach(function (t) {\n      l[v][t] = r[v][t]\n    })\n  })\n  return l\n}\n\n// return whatever was printed\nfunction showFields (data, version, fields) {\n  var o = {}\n  ;[data, version].forEach(function (s) {\n    Object.keys(s).forEach(function (k) {\n      o[k] = s[k]\n    })\n  })\n  return search(o, fields.split(\".\"), version.version, fields)\n}\n\nfunction search (data, fields, version, title) {\n  var field\n    , tail = fields\n  while (!field && fields.length) field = tail.shift()\n  fields = [field].concat(tail)\n  var o\n  if (!field && !tail.length) {\n    o = {}\n    o[version] = {}\n    o[version][title] = data\n    return o\n  }\n  var index = field.match(/(.+)\\[([^\\]]+)\\]$/)\n  if (index) {\n    field = index[1]\n    index = index[2]\n    if (data.field && data.field.hasOwnProperty(index)) {\n      return search(data[field][index], tail, version, title)\n    } else {\n      field = field + \"[\" + index + \"]\"\n    }\n  }\n  if (Array.isArray(data)) {\n    if (data.length === 1) {\n      return search(data[0], fields, version, title)\n    }\n    var results = []\n    data.forEach(function (data, i) {\n      var tl = title.length\n        , newt = title.substr(0, tl-(fields.join(\".\").length) - 1)\n               + \"[\"+i+\"]\" + [\"\"].concat(fields).join(\".\")\n      results.push(search(data, fields.slice(), version, newt))\n    })\n    results = results.reduce(reducer, {})\n    return results\n  }\n  if (!data.hasOwnProperty(field)) return undefined\n  data = data[field]\n  if (tail.length) {\n    if (typeof data === \"object\") {\n      // there are more fields to deal with.\n      return search(data, tail, version, title)\n    } else {\n      return new Error(\"Not an object: \"+data)\n    }\n  }\n  o = {}\n  o[version] = {}\n  o[version][title] = data\n  return o\n}\n\nfunction printData (data, name, cb) {\n  var versions = Object.keys(data)\n    , msg = \"\"\n    , includeVersions = versions.length > 1\n    , includeFields\n\n  versions.forEach(function (v) {\n    var fields = Object.keys(data[v])\n    includeFields = includeFields || (fields.length > 1)\n    fields.forEach(function (f) {\n      var d = cleanup(data[v][f])\n      if (includeVersions || includeFields || typeof d !== \"string\") {\n        d = cleanup(data[v][f])\n        d = npm.config.get(\"json\")\n          ? JSON.stringify(d, null, 2)\n          : util.inspect(d, false, 5, npm.color)\n      } else if (typeof d === \"string\" && npm.config.get(\"json\")) {\n        d = JSON.stringify(d)\n      }\n      if (f && includeFields) f += \" = \"\n      if (d.indexOf(\"\\n\") !== -1) d = \" \\n\" + d\n      msg += (includeVersions ? name + \"@\" + v + \" \" : \"\")\n           + (includeFields ? f : \"\") + d + \"\\n\"\n    })\n  })\n\n  console.log(msg)\n  cb(null, data)\n}\nfunction cleanup (data) {\n  if (Array.isArray(data)) {\n    if (data.length === 1) {\n      data = data[0]\n    } else {\n      return data.map(cleanup)\n    }\n  }\n  if (!data || typeof data !== \"object\") return data\n\n  if (typeof data.versions === \"object\"\n      && data.versions\n      && !Array.isArray(data.versions)) {\n    data.versions = Object.keys(data.versions || {})\n  }\n\n  var keys = Object.keys(data)\n  keys.forEach(function (d) {\n    if (d.charAt(0) === \"_\") delete data[d]\n    else if (typeof data[d] === \"object\") data[d] = cleanup(data[d])\n  })\n  keys = Object.keys(data)\n  if (keys.length <= 3\n      && data.name\n      && (keys.length === 1\n          || keys.length === 3 && data.email && data.url\n          || keys.length === 2 && (data.email || data.url))) {\n    data = unparsePerson(data)\n  }\n  return data\n}\nfunction unparsePerson (d) {\n  if (typeof d === \"string\") return d\n  return d.name\n       + (d.email ? \" <\"+d.email+\">\" : \"\")\n       + (d.url ? \" (\"+d.url+\")\" : \"\")\n}\n"]}