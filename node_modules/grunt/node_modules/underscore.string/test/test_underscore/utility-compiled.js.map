{"version":3,"sources":["utility.js"],"names":[],"mappings":"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","file":"utility-compiled.js","sourcesContent":["$(document).ready(function() {\n\n  module(\"Utility\");\n\n  test(\"utility: noConflict\", function() {\n    var underscore = _.noConflict();\n    ok(underscore.isUndefined(_), \"The '_' variable has been returned to its previous state.\");\n    var intersection = underscore.intersect([-1, 0, 1, 2], [1, 2, 3, 4]);\n    equals(intersection.join(', '), '1, 2', 'but the intersection function still works');\n    window._ = underscore;\n  });\n\n  test(\"utility: identity\", function() {\n    var moe = {name : 'moe'};\n    equals(_.identity(moe), moe, 'moe is the same as his identity');\n  });\n\n  test(\"utility: uniqueId\", function() {\n    var ids = [], i = 0;\n    while(i++ < 100) ids.push(_.uniqueId());\n    equals(_.uniq(ids).length, ids.length, 'can generate a globally-unique stream of ids');\n  });\n\n  test(\"utility: times\", function() {\n    var vals = [];\n    _.times(3, function (i) { vals.push(i); });\n    ok(_.isEqual(vals, [0,1,2]), \"is 0 indexed\");\n    //\n    vals = [];\n    _(3).times(function (i) { vals.push(i); });\n    ok(_.isEqual(vals, [0,1,2]), \"works as a wrapper\");\n  });\n\n  test(\"utility: mixin\", function() {\n    _.mixin({\n      myReverse: function(string) {\n        return string.split('').reverse().join('');\n      }\n    });\n    equals(_.myReverse('panacea'), 'aecanap', 'mixed in a function to _');\n    equals(_('champ').myReverse(), 'pmahc', 'mixed in a function to the OOP wrapper');\n  });\n\n  test(\"utility: _.escape\", function() {\n    equals(_.escape(\"Curly & Moe\"), \"Curly &amp; Moe\");\n    equals(_.escape(\"Curly &amp; Moe\"), \"Curly &amp;amp; Moe\");\n  });\n\n  test(\"utility: template\", function() {\n    var basicTemplate = _.template(\"<%= thing %> is gettin' on my noives!\");\n    var result = basicTemplate({thing : 'This'});\n    equals(result, \"This is gettin' on my noives!\", 'can do basic attribute interpolation');\n\n    var sansSemicolonTemplate = _.template(\"A <% this %> B\");\n    equals(sansSemicolonTemplate(), \"A  B\");\n\n    var backslashTemplate = _.template(\"<%= thing %> is \\\\ridanculous\");\n    equals(backslashTemplate({thing: 'This'}), \"This is \\\\ridanculous\");\n\n    var escapeTemplate = _.template('<%= a ? \"checked=\\\\\"checked\\\\\"\" : \"\" %>');\n    equals(escapeTemplate({a: true}), 'checked=\"checked\"', 'can handle slash escapes in interpolations.');\n\n    var fancyTemplate = _.template(\"<ul><% \\\n      for (key in people) { \\\n    %><li><%= people[key] %></li><% } %></ul>\");\n    result = fancyTemplate({people : {moe : \"Moe\", larry : \"Larry\", curly : \"Curly\"}});\n    equals(result, \"<ul><li>Moe</li><li>Larry</li><li>Curly</li></ul>\", 'can run arbitrary javascript in templates');\n\n    var escapedCharsInJavascriptTemplate = _.template(\"<ul><% _.each(numbers.split('\\\\n'), function(item) { %><li><%= item %></li><% }) %></ul>\");\n    result = escapedCharsInJavascriptTemplate({numbers: \"one\\ntwo\\nthree\\nfour\"});\n    equals(result, \"<ul><li>one</li><li>two</li><li>three</li><li>four</li></ul>\", 'Can use escaped characters (e.g. \\\\n) in Javascript');\n\n    var namespaceCollisionTemplate = _.template(\"<%= pageCount %> <%= thumbnails[pageCount] %> <% _.each(thumbnails, function(p) { %><div class=\\\"thumbnail\\\" rel=\\\"<%= p %>\\\"></div><% }); %>\");\n    result = namespaceCollisionTemplate({\n      pageCount: 3,\n      thumbnails: {\n        1: \"p1-thumbnail.gif\",\n        2: \"p2-thumbnail.gif\",\n        3: \"p3-thumbnail.gif\"\n      }\n    });\n    equals(result, \"3 p3-thumbnail.gif <div class=\\\"thumbnail\\\" rel=\\\"p1-thumbnail.gif\\\"></div><div class=\\\"thumbnail\\\" rel=\\\"p2-thumbnail.gif\\\"></div><div class=\\\"thumbnail\\\" rel=\\\"p3-thumbnail.gif\\\"></div>\");\n\n    var noInterpolateTemplate = _.template(\"<div><p>Just some text. Hey, I know this is silly but it aids consistency.</p></div>\");\n    result = noInterpolateTemplate();\n    equals(result, \"<div><p>Just some text. Hey, I know this is silly but it aids consistency.</p></div>\");\n\n    var quoteTemplate = _.template(\"It's its, not it's\");\n    equals(quoteTemplate({}), \"It's its, not it's\");\n\n    var quoteInStatementAndBody = _.template(\"<%\\\n      if(foo == 'bar'){ \\\n    %>Statement quotes and 'quotes'.<% } %>\");\n    equals(quoteInStatementAndBody({foo: \"bar\"}), \"Statement quotes and 'quotes'.\");\n\n    var withNewlinesAndTabs = _.template('This\\n\\t\\tis: <%= x %>.\\n\\tok.\\nend.');\n    equals(withNewlinesAndTabs({x: 'that'}), 'This\\n\\t\\tis: that.\\n\\tok.\\nend.');\n\n    var template = _.template(\"<i><%- value %></i>\");\n    var result = template({value: \"<script>\"});\n    equals(result, '<i>&lt;script&gt;</i>');\n\n    var stooge = {\n      name: \"Moe\",\n      template: _.template(\"I'm <%= this.name %>\")\n    };\n    equals(stooge.template(), \"I'm Moe\");\n\n    if (!$.browser.msie) {\n      var fromHTML = _.template($('#template').html());\n      equals(fromHTML({data : 12345}).replace(/\\s/g, ''), '<li>24690</li>');\n    }\n\n    _.templateSettings = {\n      evaluate    : /\\{\\{([\\s\\S]+?)\\}\\}/g,\n      interpolate : /\\{\\{=([\\s\\S]+?)\\}\\}/g\n    };\n\n    var custom = _.template(\"<ul>{{ for (key in people) { }}<li>{{= people[key] }}</li>{{ } }}</ul>\");\n    result = custom({people : {moe : \"Moe\", larry : \"Larry\", curly : \"Curly\"}});\n    equals(result, \"<ul><li>Moe</li><li>Larry</li><li>Curly</li></ul>\", 'can run arbitrary javascript in templates');\n\n    var customQuote = _.template(\"It's its, not it's\");\n    equals(customQuote({}), \"It's its, not it's\");\n\n    var quoteInStatementAndBody = _.template(\"{{ if(foo == 'bar'){ }}Statement quotes and 'quotes'.{{ } }}\");\n    equals(quoteInStatementAndBody({foo: \"bar\"}), \"Statement quotes and 'quotes'.\");\n\n    _.templateSettings = {\n      evaluate    : /<\\?([\\s\\S]+?)\\?>/g,\n      interpolate : /<\\?=([\\s\\S]+?)\\?>/g\n    };\n\n    var customWithSpecialChars = _.template(\"<ul><? for (key in people) { ?><li><?= people[key] ?></li><? } ?></ul>\");\n    result = customWithSpecialChars({people : {moe : \"Moe\", larry : \"Larry\", curly : \"Curly\"}});\n    equals(result, \"<ul><li>Moe</li><li>Larry</li><li>Curly</li></ul>\", 'can run arbitrary javascript in templates');\n\n    var customWithSpecialCharsQuote = _.template(\"It's its, not it's\");\n    equals(customWithSpecialCharsQuote({}), \"It's its, not it's\");\n\n    var quoteInStatementAndBody = _.template(\"<? if(foo == 'bar'){ ?>Statement quotes and 'quotes'.<? } ?>\");\n    equals(quoteInStatementAndBody({foo: \"bar\"}), \"Statement quotes and 'quotes'.\");\n\n    _.templateSettings = {\n      interpolate : /\\{\\{(.+?)\\}\\}/g\n    };\n\n    var mustache = _.template(\"Hello {{planet}}!\");\n    equals(mustache({planet : \"World\"}), \"Hello World!\", \"can mimic mustache.js\");\n\n    var templateWithNull = _.template(\"a null undefined {{planet}}\");\n    equals(templateWithNull({planet : \"world\"}), \"a null undefined world\", \"can handle missing escape and evaluate settings\");\n  });\n\n});\n"]}