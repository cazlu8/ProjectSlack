{"version":3,"sources":["nocase-nomagic.js"],"names":[],"mappings":"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","file":"nocase-nomagic-compiled.js","sourcesContent":["var fs = require('graceful-fs');\nvar test = require('tap').test;\nvar glob = require('../');\n\ntest('mock fs', function(t) {\n  var stat = fs.stat\n  var statSync = fs.statSync\n  var readdir = fs.readdir\n  var readdirSync = fs.readdirSync\n\n  function fakeStat(path) {\n    var ret\n    switch (path.toLowerCase()) {\n      case '/tmp': case '/tmp/':\n        ret = { isDirectory: function() { return true } }\n        break\n      case '/tmp/a':\n        ret = { isDirectory: function() { return false } }\n        break\n    }\n    return ret\n  }\n\n  fs.stat = function(path, cb) {\n    var f = fakeStat(path);\n    if (f) {\n      process.nextTick(function() {\n        cb(null, f)\n      })\n    } else {\n      stat.call(fs, path, cb)\n    }\n  }\n\n  fs.statSync = function(path) {\n    return fakeStat(path) || statSync.call(fs, path)\n  }\n\n  function fakeReaddir(path) {\n    var ret\n    switch (path.toLowerCase()) {\n      case '/tmp': case '/tmp/':\n        ret = [ 'a', 'A' ]\n        break\n      case '/':\n        ret = ['tmp', 'tMp', 'tMP', 'TMP']\n    }\n    return ret\n  }\n\n  fs.readdir = function(path, cb) {\n    var f = fakeReaddir(path)\n    if (f)\n      process.nextTick(function() {\n        cb(null, f)\n      })\n    else\n      readdir.call(fs, path, cb)\n  }\n\n  fs.readdirSync = function(path) {\n    return fakeReaddir(path) || readdirSync.call(fs, path)\n  }\n\n  t.pass('mocked')\n  t.end()\n})\n\ntest('nocase, nomagic', function(t) {\n  var n = 2\n  var want = [ '/TMP/A',\n               '/TMP/a',\n               '/tMP/A',\n               '/tMP/a',\n               '/tMp/A',\n               '/tMp/a',\n               '/tmp/A',\n               '/tmp/a' ]\n  glob('/tmp/a', { nocase: true }, function(er, res) {\n    if (er)\n      throw er\n    t.same(res.sort(), want)\n    if (--n === 0) t.end()\n  })\n  glob('/tmp/A', { nocase: true }, function(er, res) {\n    if (er)\n      throw er\n    t.same(res.sort(), want)\n    if (--n === 0) t.end()\n  })\n})\n\ntest('nocase, with some magic', function(t) {\n  t.plan(2)\n  var want = [ '/TMP/A',\n               '/TMP/a',\n               '/tMP/A',\n               '/tMP/a',\n               '/tMp/A',\n               '/tMp/a',\n               '/tmp/A',\n               '/tmp/a' ]\n  glob('/tmp/*', { nocase: true }, function(er, res) {\n    if (er)\n      throw er\n    t.same(res.sort(), want)\n  })\n  glob('/tmp/*', { nocase: true }, function(er, res) {\n    if (er)\n      throw er\n    t.same(res.sort(), want)\n  })\n})\n"]}