{"version":3,"sources":["js-yaml.js"],"names":[],"mappings":"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","file":"js-yaml-compiled.js","sourcesContent":["#!/usr/bin/env node\n\n\n'use strict';\n\n\n// stdlib\nvar fs    = require('fs');\nvar util  = require('util');\n\n\n// 3rd-party\nvar ArgumentParser = require('argparse').ArgumentParser;\n\n\n// internal\nvar yaml = require('..');\n\n\n////////////////////////////////////////////////////////////////////////////////\n\n\nvar cli = new ArgumentParser({\n  prog:     'js-yaml',\n  version:  require('../package.json').version,\n  addHelp:  true\n});\n\n\ncli.addArgument(['-c', '--compact'], {\n  help:   'Display errors in compact mode',\n  action: 'storeTrue'\n});\n\n\ncli.addArgument(['-j', '--to-json'], {\n  help:   'Output a non-funky boring JSON',\n  dest:   'json',\n  action: 'storeTrue'\n});\n\n\ncli.addArgument(['-t', '--trace'], {\n  help:   'Show stack trace on error',\n  action: 'storeTrue'\n});\n\n\ncli.addArgument(['file'], {\n  help:   'File to read'\n});\n\n\n////////////////////////////////////////////////////////////////////////////////\n\n\nvar options = cli.parseArgs();\n\n\n////////////////////////////////////////////////////////////////////////////////\n\n\nfs.readFile(options.file, 'utf8', function (error, input) {\n  var output, isYaml;\n\n  if (error) {\n    if ('ENOENT' === error.code) {\n      console.error('File not found: ' + options.file);\n      process.exit(2);\n    }\n\n    console.error(\n      options.trace && error.stack ||\n      error.message ||\n      String(error));\n\n    process.exit(1);\n  }\n\n  try {\n    output = JSON.parse(input);\n    isYaml = false;\n  } catch (error) {\n    if (error instanceof SyntaxError) {\n      try {\n        output = [];\n        yaml.loadAll(input, function (doc) { output.push(doc); }, {});\n        isYaml = true;\n\n        if (0 === output.length) {\n          output = null;\n        } else if (1 === output.length) {\n          output = output[0];\n        }\n      } catch (error) {\n        if (options.trace && error.stack) {\n          console.error(error.stack);\n        } else {\n          console.error(error.toString(options.compact));\n        }\n\n        process.exit(1);\n      }\n    } else {\n      console.error(\n        options.trace && error.stack ||\n        error.message ||\n        String(error));\n\n      process.exit(1);\n    }\n  }\n\n  if (isYaml) {\n    if (options.json) {\n      console.log(JSON.stringify(output, null, '  '));\n    } else {\n      console.log(\"\\n\" + util.inspect(output, false, 10, true) + \"\\n\");\n    }\n  } else {\n    console.log(yaml.dump(output));\n  }\n\n  process.exit(0);\n});\n"]}