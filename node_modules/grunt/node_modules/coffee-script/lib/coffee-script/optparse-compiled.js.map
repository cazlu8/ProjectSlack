{"version":3,"sources":["optparse.js"],"names":[],"mappings":"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","file":"optparse-compiled.js","sourcesContent":["// Generated by CoffeeScript 1.3.3\n(function() {\n  var LONG_FLAG, MULTI_FLAG, OPTIONAL, OptionParser, SHORT_FLAG, buildRule, buildRules, normalizeArguments;\n\n  exports.OptionParser = OptionParser = (function() {\n\n    function OptionParser(rules, banner) {\n      this.banner = banner;\n      this.rules = buildRules(rules);\n    }\n\n    OptionParser.prototype.parse = function(args) {\n      var arg, i, isOption, matchedRule, options, originalArgs, pos, rule, seenNonOptionArg, skippingArgument, value, _i, _j, _len, _len1, _ref;\n      options = {\n        \"arguments\": []\n      };\n      skippingArgument = false;\n      originalArgs = args;\n      args = normalizeArguments(args);\n      for (i = _i = 0, _len = args.length; _i < _len; i = ++_i) {\n        arg = args[i];\n        if (skippingArgument) {\n          skippingArgument = false;\n          continue;\n        }\n        if (arg === '--') {\n          pos = originalArgs.indexOf('--');\n          options[\"arguments\"] = options[\"arguments\"].concat(originalArgs.slice(pos + 1));\n          break;\n        }\n        isOption = !!(arg.match(LONG_FLAG) || arg.match(SHORT_FLAG));\n        seenNonOptionArg = options[\"arguments\"].length > 0;\n        if (!seenNonOptionArg) {\n          matchedRule = false;\n          _ref = this.rules;\n          for (_j = 0, _len1 = _ref.length; _j < _len1; _j++) {\n            rule = _ref[_j];\n            if (rule.shortFlag === arg || rule.longFlag === arg) {\n              value = true;\n              if (rule.hasArgument) {\n                skippingArgument = true;\n                value = args[i + 1];\n              }\n              options[rule.name] = rule.isList ? (options[rule.name] || []).concat(value) : value;\n              matchedRule = true;\n              break;\n            }\n          }\n          if (isOption && !matchedRule) {\n            throw new Error(\"unrecognized option: \" + arg);\n          }\n        }\n        if (seenNonOptionArg || !isOption) {\n          options[\"arguments\"].push(arg);\n        }\n      }\n      return options;\n    };\n\n    OptionParser.prototype.help = function() {\n      var letPart, lines, rule, spaces, _i, _len, _ref;\n      lines = [];\n      if (this.banner) {\n        lines.unshift(\"\" + this.banner + \"\\n\");\n      }\n      _ref = this.rules;\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        rule = _ref[_i];\n        spaces = 15 - rule.longFlag.length;\n        spaces = spaces > 0 ? Array(spaces + 1).join(' ') : '';\n        letPart = rule.shortFlag ? rule.shortFlag + ', ' : '    ';\n        lines.push('  ' + letPart + rule.longFlag + spaces + rule.description);\n      }\n      return \"\\n\" + (lines.join('\\n')) + \"\\n\";\n    };\n\n    return OptionParser;\n\n  })();\n\n  LONG_FLAG = /^(--\\w[\\w\\-]*)/;\n\n  SHORT_FLAG = /^(-\\w)$/;\n\n  MULTI_FLAG = /^-(\\w{2,})/;\n\n  OPTIONAL = /\\[(\\w+(\\*?))\\]/;\n\n  buildRules = function(rules) {\n    var tuple, _i, _len, _results;\n    _results = [];\n    for (_i = 0, _len = rules.length; _i < _len; _i++) {\n      tuple = rules[_i];\n      if (tuple.length < 3) {\n        tuple.unshift(null);\n      }\n      _results.push(buildRule.apply(null, tuple));\n    }\n    return _results;\n  };\n\n  buildRule = function(shortFlag, longFlag, description, options) {\n    var match;\n    if (options == null) {\n      options = {};\n    }\n    match = longFlag.match(OPTIONAL);\n    longFlag = longFlag.match(LONG_FLAG)[1];\n    return {\n      name: longFlag.substr(2),\n      shortFlag: shortFlag,\n      longFlag: longFlag,\n      description: description,\n      hasArgument: !!(match && match[1]),\n      isList: !!(match && match[2])\n    };\n  };\n\n  normalizeArguments = function(args) {\n    var arg, l, match, result, _i, _j, _len, _len1, _ref;\n    args = args.slice(0);\n    result = [];\n    for (_i = 0, _len = args.length; _i < _len; _i++) {\n      arg = args[_i];\n      if (match = arg.match(MULTI_FLAG)) {\n        _ref = match[1].split('');\n        for (_j = 0, _len1 = _ref.length; _j < _len1; _j++) {\n          l = _ref[_j];\n          result.push('-' + l);\n        }\n      } else {\n        result.push(arg);\n      }\n    }\n    return result;\n  };\n\n}).call(this);\n"]}