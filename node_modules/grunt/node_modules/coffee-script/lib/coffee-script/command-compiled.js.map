{"version":3,"sources":["command.js"],"names":[],"mappings":"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","file":"command-compiled.js","sourcesContent":["// Generated by CoffeeScript 1.3.3\n(function() {\n  var BANNER, CoffeeScript, EventEmitter, SWITCHES, compileJoin, compileOptions, compilePath, compileScript, compileStdio, exec, forkNode, fs, helpers, hidden, joinTimeout, lint, loadRequires, notSources, optionParser, optparse, opts, outputPath, parseOptions, path, printLine, printTokens, printWarn, removeSource, sourceCode, sources, spawn, timeLog, unwatchDir, usage, version, wait, watch, watchDir, watchers, writeJs, _ref;\n\n  fs = require('fs');\n\n  path = require('path');\n\n  helpers = require('./helpers');\n\n  optparse = require('./optparse');\n\n  CoffeeScript = require('./coffee-script');\n\n  _ref = require('child_process'), spawn = _ref.spawn, exec = _ref.exec;\n\n  EventEmitter = require('events').EventEmitter;\n\n  helpers.extend(CoffeeScript, new EventEmitter);\n\n  printLine = function(line) {\n    return process.stdout.write(line + '\\n');\n  };\n\n  printWarn = function(line) {\n    return process.stderr.write(line + '\\n');\n  };\n\n  hidden = function(file) {\n    return /^\\.|~$/.test(file);\n  };\n\n  BANNER = 'Usage: coffee [options] path/to/script.coffee -- [args]\\n\\nIf called without options, `coffee` will run your script.';\n\n  SWITCHES = [['-b', '--bare', 'compile without a top-level function wrapper'], ['-c', '--compile', 'compile to JavaScript and save as .js files'], ['-e', '--eval', 'pass a string from the command line as input'], ['-h', '--help', 'display this help message'], ['-i', '--interactive', 'run an interactive CoffeeScript REPL'], ['-j', '--join [FILE]', 'concatenate the source CoffeeScript before compiling'], ['-l', '--lint', 'pipe the compiled JavaScript through JavaScript Lint'], ['-n', '--nodes', 'print out the parse tree that the parser produces'], ['--nodejs [ARGS]', 'pass options directly to the \"node\" binary'], ['-o', '--output [DIR]', 'set the output directory for compiled JavaScript'], ['-p', '--print', 'print out the compiled JavaScript'], ['-r', '--require [FILE*]', 'require a library before executing your script'], ['-s', '--stdio', 'listen for and compile scripts over stdio'], ['-t', '--tokens', 'print out the tokens that the lexer/rewriter produce'], ['-v', '--version', 'display the version number'], ['-w', '--watch', 'watch scripts for changes and rerun commands']];\n\n  opts = {};\n\n  sources = [];\n\n  sourceCode = [];\n\n  notSources = {};\n\n  watchers = {};\n\n  optionParser = null;\n\n  exports.run = function() {\n    var literals, source, _i, _len, _results;\n    parseOptions();\n    if (opts.nodejs) {\n      return forkNode();\n    }\n    if (opts.help) {\n      return usage();\n    }\n    if (opts.version) {\n      return version();\n    }\n    if (opts.require) {\n      loadRequires();\n    }\n    if (opts.interactive) {\n      return require('./repl');\n    }\n    if (opts.watch && !fs.watch) {\n      return printWarn(\"The --watch feature depends on Node v0.6.0+. You are running \" + process.version + \".\");\n    }\n    if (opts.stdio) {\n      return compileStdio();\n    }\n    if (opts[\"eval\"]) {\n      return compileScript(null, sources[0]);\n    }\n    if (!sources.length) {\n      return require('./repl');\n    }\n    literals = opts.run ? sources.splice(1) : [];\n    process.argv = process.argv.slice(0, 2).concat(literals);\n    process.argv[0] = 'coffee';\n    process.execPath = require.main.filename;\n    _results = [];\n    for (_i = 0, _len = sources.length; _i < _len; _i++) {\n      source = sources[_i];\n      _results.push(compilePath(source, true, path.normalize(source)));\n    }\n    return _results;\n  };\n\n  compilePath = function(source, topLevel, base) {\n    return fs.stat(source, function(err, stats) {\n      if (err && err.code !== 'ENOENT') {\n        throw err;\n      }\n      if ((err != null ? err.code : void 0) === 'ENOENT') {\n        if (topLevel && source.slice(-7) !== '.coffee') {\n          source = sources[sources.indexOf(source)] = \"\" + source + \".coffee\";\n          return compilePath(source, topLevel, base);\n        }\n        if (topLevel) {\n          console.error(\"File not found: \" + source);\n          process.exit(1);\n        }\n        return;\n      }\n      if (stats.isDirectory()) {\n        if (opts.watch) {\n          watchDir(source, base);\n        }\n        return fs.readdir(source, function(err, files) {\n          var file, index, _ref1, _ref2;\n          if (err && err.code !== 'ENOENT') {\n            throw err;\n          }\n          if ((err != null ? err.code : void 0) === 'ENOENT') {\n            return;\n          }\n          index = sources.indexOf(source);\n          files = files.filter(function(file) {\n            return !hidden(file);\n          });\n          [].splice.apply(sources, [index, index - index + 1].concat(_ref1 = (function() {\n            var _i, _len, _results;\n            _results = [];\n            for (_i = 0, _len = files.length; _i < _len; _i++) {\n              file = files[_i];\n              _results.push(path.join(source, file));\n            }\n            return _results;\n          })())), _ref1;\n          [].splice.apply(sourceCode, [index, index - index + 1].concat(_ref2 = files.map(function() {\n            return null;\n          }))), _ref2;\n          return files.forEach(function(file) {\n            return compilePath(path.join(source, file), false, base);\n          });\n        });\n      } else if (topLevel || path.extname(source) === '.coffee') {\n        if (opts.watch) {\n          watch(source, base);\n        }\n        return fs.readFile(source, function(err, code) {\n          if (err && err.code !== 'ENOENT') {\n            throw err;\n          }\n          if ((err != null ? err.code : void 0) === 'ENOENT') {\n            return;\n          }\n          return compileScript(source, code.toString(), base);\n        });\n      } else {\n        notSources[source] = true;\n        return removeSource(source, base);\n      }\n    });\n  };\n\n  compileScript = function(file, input, base) {\n    var o, options, t, task;\n    o = opts;\n    options = compileOptions(file);\n    try {\n      t = task = {\n        file: file,\n        input: input,\n        options: options\n      };\n      CoffeeScript.emit('compile', task);\n      if (o.tokens) {\n        return printTokens(CoffeeScript.tokens(t.input));\n      } else if (o.nodes) {\n        return printLine(CoffeeScript.nodes(t.input).toString().trim());\n      } else if (o.run) {\n        return CoffeeScript.run(t.input, t.options);\n      } else if (o.join && t.file !== o.join) {\n        sourceCode[sources.indexOf(t.file)] = t.input;\n        return compileJoin();\n      } else {\n        t.output = CoffeeScript.compile(t.input, t.options);\n        CoffeeScript.emit('success', task);\n        if (o.print) {\n          return printLine(t.output.trim());\n        } else if (o.compile) {\n          return writeJs(t.file, t.output, base);\n        } else if (o.lint) {\n          return lint(t.file, t.output);\n        }\n      }\n    } catch (err) {\n      CoffeeScript.emit('failure', err, task);\n      if (CoffeeScript.listeners('failure').length) {\n        return;\n      }\n      if (o.watch) {\n        return printLine(err.message + '\\x07');\n      }\n      printWarn(err instanceof Error && err.stack || (\"ERROR: \" + err));\n      return process.exit(1);\n    }\n  };\n\n  compileStdio = function() {\n    var code, stdin;\n    code = '';\n    stdin = process.openStdin();\n    stdin.on('data', function(buffer) {\n      if (buffer) {\n        return code += buffer.toString();\n      }\n    });\n    return stdin.on('end', function() {\n      return compileScript(null, code);\n    });\n  };\n\n  joinTimeout = null;\n\n  compileJoin = function() {\n    if (!opts.join) {\n      return;\n    }\n    if (!sourceCode.some(function(code) {\n      return code === null;\n    })) {\n      clearTimeout(joinTimeout);\n      return joinTimeout = wait(100, function() {\n        return compileScript(opts.join, sourceCode.join('\\n'), opts.join);\n      });\n    }\n  };\n\n  loadRequires = function() {\n    var realFilename, req, _i, _len, _ref1;\n    realFilename = module.filename;\n    module.filename = '.';\n    _ref1 = opts.require;\n    for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n      req = _ref1[_i];\n      require(req);\n    }\n    return module.filename = realFilename;\n  };\n\n  watch = function(source, base) {\n    var compile, compileTimeout, prevStats, rewatch, watchErr, watcher;\n    prevStats = null;\n    compileTimeout = null;\n    watchErr = function(e) {\n      if (e.code === 'ENOENT') {\n        if (sources.indexOf(source) === -1) {\n          return;\n        }\n        try {\n          rewatch();\n          return compile();\n        } catch (e) {\n          removeSource(source, base, true);\n          return compileJoin();\n        }\n      } else {\n        throw e;\n      }\n    };\n    compile = function() {\n      clearTimeout(compileTimeout);\n      return compileTimeout = wait(25, function() {\n        return fs.stat(source, function(err, stats) {\n          if (err) {\n            return watchErr(err);\n          }\n          if (prevStats && stats.size === prevStats.size && stats.mtime.getTime() === prevStats.mtime.getTime()) {\n            return rewatch();\n          }\n          prevStats = stats;\n          return fs.readFile(source, function(err, code) {\n            if (err) {\n              return watchErr(err);\n            }\n            compileScript(source, code.toString(), base);\n            return rewatch();\n          });\n        });\n      });\n    };\n    try {\n      watcher = fs.watch(source, compile);\n    } catch (e) {\n      watchErr(e);\n    }\n    return rewatch = function() {\n      if (watcher != null) {\n        watcher.close();\n      }\n      return watcher = fs.watch(source, compile);\n    };\n  };\n\n  watchDir = function(source, base) {\n    var readdirTimeout, watcher;\n    readdirTimeout = null;\n    try {\n      return watcher = fs.watch(source, function() {\n        clearTimeout(readdirTimeout);\n        return readdirTimeout = wait(25, function() {\n          return fs.readdir(source, function(err, files) {\n            var file, _i, _len, _results;\n            if (err) {\n              if (err.code !== 'ENOENT') {\n                throw err;\n              }\n              watcher.close();\n              return unwatchDir(source, base);\n            }\n            _results = [];\n            for (_i = 0, _len = files.length; _i < _len; _i++) {\n              file = files[_i];\n              if (!(!hidden(file) && !notSources[file])) {\n                continue;\n              }\n              file = path.join(source, file);\n              if (sources.some(function(s) {\n                return s.indexOf(file) >= 0;\n              })) {\n                continue;\n              }\n              sources.push(file);\n              sourceCode.push(null);\n              _results.push(compilePath(file, false, base));\n            }\n            return _results;\n          });\n        });\n      });\n    } catch (e) {\n      if (e.code !== 'ENOENT') {\n        throw e;\n      }\n    }\n  };\n\n  unwatchDir = function(source, base) {\n    var file, prevSources, toRemove, _i, _len;\n    prevSources = sources.slice(0);\n    toRemove = (function() {\n      var _i, _len, _results;\n      _results = [];\n      for (_i = 0, _len = sources.length; _i < _len; _i++) {\n        file = sources[_i];\n        if (file.indexOf(source) >= 0) {\n          _results.push(file);\n        }\n      }\n      return _results;\n    })();\n    for (_i = 0, _len = toRemove.length; _i < _len; _i++) {\n      file = toRemove[_i];\n      removeSource(file, base, true);\n    }\n    if (!sources.some(function(s, i) {\n      return prevSources[i] !== s;\n    })) {\n      return;\n    }\n    return compileJoin();\n  };\n\n  removeSource = function(source, base, removeJs) {\n    var index, jsPath;\n    index = sources.indexOf(source);\n    sources.splice(index, 1);\n    sourceCode.splice(index, 1);\n    if (removeJs && !opts.join) {\n      jsPath = outputPath(source, base);\n      return path.exists(jsPath, function(exists) {\n        if (exists) {\n          return fs.unlink(jsPath, function(err) {\n            if (err && err.code !== 'ENOENT') {\n              throw err;\n            }\n            return timeLog(\"removed \" + source);\n          });\n        }\n      });\n    }\n  };\n\n  outputPath = function(source, base) {\n    var baseDir, dir, filename, srcDir;\n    filename = path.basename(source, path.extname(source)) + '.js';\n    srcDir = path.dirname(source);\n    baseDir = base === '.' ? srcDir : srcDir.substring(base.length);\n    dir = opts.output ? path.join(opts.output, baseDir) : srcDir;\n    return path.join(dir, filename);\n  };\n\n  writeJs = function(source, js, base) {\n    var compile, jsDir, jsPath;\n    jsPath = outputPath(source, base);\n    jsDir = path.dirname(jsPath);\n    compile = function() {\n      if (js.length <= 0) {\n        js = ' ';\n      }\n      return fs.writeFile(jsPath, js, function(err) {\n        if (err) {\n          return printLine(err.message);\n        } else if (opts.compile && opts.watch) {\n          return timeLog(\"compiled \" + source);\n        }\n      });\n    };\n    return path.exists(jsDir, function(exists) {\n      if (exists) {\n        return compile();\n      } else {\n        return exec(\"mkdir -p \" + jsDir, compile);\n      }\n    });\n  };\n\n  wait = function(milliseconds, func) {\n    return setTimeout(func, milliseconds);\n  };\n\n  timeLog = function(message) {\n    return console.log(\"\" + ((new Date).toLocaleTimeString()) + \" - \" + message);\n  };\n\n  lint = function(file, js) {\n    var conf, jsl, printIt;\n    printIt = function(buffer) {\n      return printLine(file + ':\\t' + buffer.toString().trim());\n    };\n    conf = __dirname + '/../../extras/jsl.conf';\n    jsl = spawn('jsl', ['-nologo', '-stdin', '-conf', conf]);\n    jsl.stdout.on('data', printIt);\n    jsl.stderr.on('data', printIt);\n    jsl.stdin.write(js);\n    return jsl.stdin.end();\n  };\n\n  printTokens = function(tokens) {\n    var strings, tag, token, value;\n    strings = (function() {\n      var _i, _len, _ref1, _results;\n      _results = [];\n      for (_i = 0, _len = tokens.length; _i < _len; _i++) {\n        token = tokens[_i];\n        _ref1 = [token[0], token[1].toString().replace(/\\n/, '\\\\n')], tag = _ref1[0], value = _ref1[1];\n        _results.push(\"[\" + tag + \" \" + value + \"]\");\n      }\n      return _results;\n    })();\n    return printLine(strings.join(' '));\n  };\n\n  parseOptions = function() {\n    var i, o, source, _i, _len;\n    optionParser = new optparse.OptionParser(SWITCHES, BANNER);\n    o = opts = optionParser.parse(process.argv.slice(2));\n    o.compile || (o.compile = !!o.output);\n    o.run = !(o.compile || o.print || o.lint);\n    o.print = !!(o.print || (o[\"eval\"] || o.stdio && o.compile));\n    sources = o[\"arguments\"];\n    for (i = _i = 0, _len = sources.length; _i < _len; i = ++_i) {\n      source = sources[i];\n      sourceCode[i] = null;\n    }\n  };\n\n  compileOptions = function(filename) {\n    return {\n      filename: filename,\n      bare: opts.bare,\n      header: opts.compile\n    };\n  };\n\n  forkNode = function() {\n    var args, nodeArgs;\n    nodeArgs = opts.nodejs.split(/\\s+/);\n    args = process.argv.slice(1);\n    args.splice(args.indexOf('--nodejs'), 2);\n    return spawn(process.execPath, nodeArgs.concat(args), {\n      cwd: process.cwd(),\n      env: process.env,\n      customFds: [0, 1, 2]\n    });\n  };\n\n  usage = function() {\n    return printLine((new optparse.OptionParser(SWITCHES, BANNER)).help());\n  };\n\n  version = function() {\n    return printLine(\"CoffeeScript version \" + CoffeeScript.VERSION);\n  };\n\n}).call(this);\n"]}