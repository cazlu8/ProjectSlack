{"version":3,"sources":["mark.js"],"names":[],"mappings":"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","file":"mark-compiled.js","sourcesContent":["var test = require(\"tap\").test\nvar glob = require('../')\nprocess.chdir(__dirname)\n\n// expose timing issues\nvar lag = 5\nglob.Glob.prototype._stat = function(o) { return function(f, cb) {\n  var args = arguments\n  setTimeout(function() {\n    o.call(this, f, cb)\n  }.bind(this), lag += 5)\n}}(glob.Glob.prototype._stat)\n\n\ntest(\"mark, with **\", function (t) {\n  glob(\"a/*b*/**\", {mark: true}, function (er, results) {\n    if (er)\n      throw er\n    var expect =\n      [ 'a/abcdef/',\n        'a/abcdef/g/',\n        'a/abcdef/g/h',\n        'a/abcfed/',\n        'a/abcfed/g/',\n        'a/abcfed/g/h',\n        'a/b/',\n        'a/b/c/',\n        'a/b/c/d',\n        'a/bc/',\n        'a/bc/e/',\n        'a/bc/e/f',\n        'a/cb/',\n        'a/cb/e/',\n        'a/cb/e/f' ]\n\n    t.same(results, expect)\n    t.end()\n  })\n})\n\ntest(\"mark, no / on pattern\", function (t) {\n  glob(\"a/*\", {mark: true}, function (er, results) {\n    if (er)\n      throw er\n    var expect = [ 'a/abcdef/',\n                   'a/abcfed/',\n                   'a/b/',\n                   'a/bc/',\n                   'a/c/',\n                   'a/cb/' ]\n\n    if (process.platform !== \"win32\")\n      expect.push('a/symlink/')\n\n    t.same(results, expect)\n    t.end()\n  }).on('match', function(m) {\n    t.similar(m, /\\/$/)\n  })\n})\n\ntest(\"mark=false, no / on pattern\", function (t) {\n  glob(\"a/*\", function (er, results) {\n    if (er)\n      throw er\n    var expect = [ 'a/abcdef',\n                   'a/abcfed',\n                   'a/b',\n                   'a/bc',\n                   'a/c',\n                   'a/cb' ]\n\n    if (process.platform !== \"win32\")\n      expect.push('a/symlink')\n    t.same(results, expect)\n    t.end()\n  }).on('match', function(m) {\n    t.similar(m, /[^\\/]$/)\n  })\n})\n\ntest(\"mark=true, / on pattern\", function (t) {\n  glob(\"a/*/\", {mark: true}, function (er, results) {\n    if (er)\n      throw er\n    var expect = [ 'a/abcdef/',\n                    'a/abcfed/',\n                    'a/b/',\n                    'a/bc/',\n                    'a/c/',\n                    'a/cb/' ]\n    if (process.platform !== \"win32\")\n      expect.push('a/symlink/')\n    t.same(results, expect)\n    t.end()\n  }).on('match', function(m) {\n    t.similar(m, /\\/$/)\n  })\n})\n\ntest(\"mark=false, / on pattern\", function (t) {\n  glob(\"a/*/\", function (er, results) {\n    if (er)\n      throw er\n    var expect = [ 'a/abcdef/',\n                   'a/abcfed/',\n                   'a/b/',\n                   'a/bc/',\n                   'a/c/',\n                   'a/cb/' ]\n    if (process.platform !== \"win32\")\n      expect.push('a/symlink/')\n    t.same(results, expect)\n    t.end()\n  }).on('match', function(m) {\n    t.similar(m, /\\/$/)\n  })\n})\n"]}