{"version":3,"sources":["utility.js"],"names":[],"mappings":"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","file":"utility-compiled.js","sourcesContent":["$(document).ready(function() {\n\n  var templateSettings;\n\n  module(\"Utility\", {\n\n    setup: function() {\n      templateSettings = _.clone(_.templateSettings);\n    },\n\n    teardown: function() {\n      _.templateSettings = templateSettings;\n    }\n\n  });\n\n  test(\"#750 - Return _ instance.\", 2, function() {\n    var instance = _([]);\n    ok(_(instance) === instance);\n    ok(new _(instance) === instance);\n  });\n\n  test(\"identity\", function() {\n    var moe = {name : 'moe'};\n    equal(_.identity(moe), moe, 'moe is the same as his identity');\n  });\n\n  test(\"uniqueId\", function() {\n    var ids = [], i = 0;\n    while(i++ < 100) ids.push(_.uniqueId());\n    equal(_.uniq(ids).length, ids.length, 'can generate a globally-unique stream of ids');\n  });\n\n  test(\"times\", function() {\n    var vals = [];\n    _.times(3, function (i) { vals.push(i); });\n    ok(_.isEqual(vals, [0,1,2]), \"is 0 indexed\");\n    //\n    vals = [];\n    _(3).times(function (i) { vals.push(i); });\n    ok(_.isEqual(vals, [0,1,2]), \"works as a wrapper\");\n  });\n\n  test(\"mixin\", function() {\n    _.mixin({\n      myReverse: function(string) {\n        return string.split('').reverse().join('');\n      }\n    });\n    equal(_.myReverse('panacea'), 'aecanap', 'mixed in a function to _');\n    equal(_('champ').myReverse(), 'pmahc', 'mixed in a function to the OOP wrapper');\n  });\n\n  test(\"_.escape\", function() {\n    equal(_.escape(\"Curly & Moe\"), \"Curly &amp; Moe\");\n    equal(_.escape(\"Curly &amp; Moe\"), \"Curly &amp;amp; Moe\");\n    equal(_.escape(null), '');\n  });\n\n  test(\"_.unescape\", function() {\n    var string = \"Curly & Moe\";\n    equal(_.unescape(\"Curly &amp; Moe\"), string);\n    equal(_.unescape(\"Curly &amp;amp; Moe\"), \"Curly &amp; Moe\");\n    equal(_.unescape(null), '');\n    equal(_.unescape(_.escape(string)), string);\n  });\n\n  test(\"template\", function() {\n    var basicTemplate = _.template(\"<%= thing %> is gettin' on my noives!\");\n    var result = basicTemplate({thing : 'This'});\n    equal(result, \"This is gettin' on my noives!\", 'can do basic attribute interpolation');\n\n    var sansSemicolonTemplate = _.template(\"A <% this %> B\");\n    equal(sansSemicolonTemplate(), \"A  B\");\n\n    var backslashTemplate = _.template(\"<%= thing %> is \\\\ridanculous\");\n    equal(backslashTemplate({thing: 'This'}), \"This is \\\\ridanculous\");\n\n    var escapeTemplate = _.template('<%= a ? \"checked=\\\\\"checked\\\\\"\" : \"\" %>');\n    equal(escapeTemplate({a: true}), 'checked=\"checked\"', 'can handle slash escapes in interpolations.');\n\n    var fancyTemplate = _.template(\"<ul><% \\\n      for (key in people) { \\\n    %><li><%= people[key] %></li><% } %></ul>\");\n    result = fancyTemplate({people : {moe : \"Moe\", larry : \"Larry\", curly : \"Curly\"}});\n    equal(result, \"<ul><li>Moe</li><li>Larry</li><li>Curly</li></ul>\", 'can run arbitrary javascript in templates');\n\n    var escapedCharsInJavascriptTemplate = _.template(\"<ul><% _.each(numbers.split('\\\\n'), function(item) { %><li><%= item %></li><% }) %></ul>\");\n    result = escapedCharsInJavascriptTemplate({numbers: \"one\\ntwo\\nthree\\nfour\"});\n    equal(result, \"<ul><li>one</li><li>two</li><li>three</li><li>four</li></ul>\", 'Can use escaped characters (e.g. \\\\n) in Javascript');\n\n    var namespaceCollisionTemplate = _.template(\"<%= pageCount %> <%= thumbnails[pageCount] %> <% _.each(thumbnails, function(p) { %><div class=\\\"thumbnail\\\" rel=\\\"<%= p %>\\\"></div><% }); %>\");\n    result = namespaceCollisionTemplate({\n      pageCount: 3,\n      thumbnails: {\n        1: \"p1-thumbnail.gif\",\n        2: \"p2-thumbnail.gif\",\n        3: \"p3-thumbnail.gif\"\n      }\n    });\n    equal(result, \"3 p3-thumbnail.gif <div class=\\\"thumbnail\\\" rel=\\\"p1-thumbnail.gif\\\"></div><div class=\\\"thumbnail\\\" rel=\\\"p2-thumbnail.gif\\\"></div><div class=\\\"thumbnail\\\" rel=\\\"p3-thumbnail.gif\\\"></div>\");\n\n    var noInterpolateTemplate = _.template(\"<div><p>Just some text. Hey, I know this is silly but it aids consistency.</p></div>\");\n    result = noInterpolateTemplate();\n    equal(result, \"<div><p>Just some text. Hey, I know this is silly but it aids consistency.</p></div>\");\n\n    var quoteTemplate = _.template(\"It's its, not it's\");\n    equal(quoteTemplate({}), \"It's its, not it's\");\n\n    var quoteInStatementAndBody = _.template(\"<%\\\n      if(foo == 'bar'){ \\\n    %>Statement quotes and 'quotes'.<% } %>\");\n    equal(quoteInStatementAndBody({foo: \"bar\"}), \"Statement quotes and 'quotes'.\");\n\n    var withNewlinesAndTabs = _.template('This\\n\\t\\tis: <%= x %>.\\n\\tok.\\nend.');\n    equal(withNewlinesAndTabs({x: 'that'}), 'This\\n\\t\\tis: that.\\n\\tok.\\nend.');\n\n    var template = _.template(\"<i><%- value %></i>\");\n    var result = template({value: \"<script>\"});\n    equal(result, '<i>&lt;script&gt;</i>');\n\n    var stooge = {\n      name: \"Moe\",\n      template: _.template(\"I'm <%= this.name %>\")\n    };\n    equal(stooge.template(), \"I'm Moe\");\n\n    if (!$.browser.msie) {\n      var fromHTML = _.template($('#template').html());\n      equal(fromHTML({data : 12345}).replace(/\\s/g, ''), '<li>24690</li>');\n    }\n\n    _.templateSettings = {\n      evaluate    : /\\{\\{([\\s\\S]+?)\\}\\}/g,\n      interpolate : /\\{\\{=([\\s\\S]+?)\\}\\}/g\n    };\n\n    var custom = _.template(\"<ul>{{ for (key in people) { }}<li>{{= people[key] }}</li>{{ } }}</ul>\");\n    result = custom({people : {moe : \"Moe\", larry : \"Larry\", curly : \"Curly\"}});\n    equal(result, \"<ul><li>Moe</li><li>Larry</li><li>Curly</li></ul>\", 'can run arbitrary javascript in templates');\n\n    var customQuote = _.template(\"It's its, not it's\");\n    equal(customQuote({}), \"It's its, not it's\");\n\n    var quoteInStatementAndBody = _.template(\"{{ if(foo == 'bar'){ }}Statement quotes and 'quotes'.{{ } }}\");\n    equal(quoteInStatementAndBody({foo: \"bar\"}), \"Statement quotes and 'quotes'.\");\n\n    _.templateSettings = {\n      evaluate    : /<\\?([\\s\\S]+?)\\?>/g,\n      interpolate : /<\\?=([\\s\\S]+?)\\?>/g\n    };\n\n    var customWithSpecialChars = _.template(\"<ul><? for (key in people) { ?><li><?= people[key] ?></li><? } ?></ul>\");\n    result = customWithSpecialChars({people : {moe : \"Moe\", larry : \"Larry\", curly : \"Curly\"}});\n    equal(result, \"<ul><li>Moe</li><li>Larry</li><li>Curly</li></ul>\", 'can run arbitrary javascript in templates');\n\n    var customWithSpecialCharsQuote = _.template(\"It's its, not it's\");\n    equal(customWithSpecialCharsQuote({}), \"It's its, not it's\");\n\n    var quoteInStatementAndBody = _.template(\"<? if(foo == 'bar'){ ?>Statement quotes and 'quotes'.<? } ?>\");\n    equal(quoteInStatementAndBody({foo: \"bar\"}), \"Statement quotes and 'quotes'.\");\n\n    _.templateSettings = {\n      interpolate : /\\{\\{(.+?)\\}\\}/g\n    };\n\n    var mustache = _.template(\"Hello {{planet}}!\");\n    equal(mustache({planet : \"World\"}), \"Hello World!\", \"can mimic mustache.js\");\n\n    var templateWithNull = _.template(\"a null undefined {{planet}}\");\n    equal(templateWithNull({planet : \"world\"}), \"a null undefined world\", \"can handle missing escape and evaluate settings\");\n  });\n\n  test('_.template provides the generated function source, when a SyntaxError occurs', function() {\n    try {\n      _.template('<b><%= if %></b>');\n    } catch (e) {\n      ok(e.source.indexOf('( if )') > 0);\n    }\n  });\n\n  test('_.template handles \\\\u2028 & \\\\u2029', function() {\n    var tmpl = _.template('<p>\\u2028<%= \"\\\\u2028\\\\u2029\" %>\\u2029</p>');\n    strictEqual(tmpl(), '<p>\\u2028\\u2028\\u2029\\u2029</p>');\n  });\n\n  test('result calls functions and returns primitives', function() {\n    var obj = {w: '', x: 'x', y: function(){ return this.x; }};\n    strictEqual(_.result(obj, 'w'), '');\n    strictEqual(_.result(obj, 'x'), 'x');\n    strictEqual(_.result(obj, 'y'), 'x');\n    strictEqual(_.result(obj, 'z'), undefined);\n    strictEqual(_.result(null, 'x'), null);\n  });\n\n  test('_.templateSettings.variable', function() {\n    var s = '<%=data.x%>';\n    var data = {x: 'x'};\n    strictEqual(_.template(s, data, {variable: 'data'}), 'x');\n    _.templateSettings.variable = 'data';\n    strictEqual(_.template(s)(data), 'x');\n  });\n\n  test('#547 - _.templateSettings is unchanged by custom settings.', function() {\n    ok(!_.templateSettings.variable);\n    _.template('', {}, {variable: 'x'});\n    ok(!_.templateSettings.variable);\n  });\n\n  test('#556 - undefined template variables.', function() {\n    var template = _.template('<%=x%>');\n    strictEqual(template({x: null}), '');\n    strictEqual(template({x: undefined}), '');\n\n    var templateEscaped = _.template('<%-x%>');\n    strictEqual(templateEscaped({x: null}), '');\n    strictEqual(templateEscaped({x: undefined}), '');\n\n    var templateWithProperty = _.template('<%=x.foo%>');\n    strictEqual(templateWithProperty({x: {} }), '');\n    strictEqual(templateWithProperty({x: {} }), '');\n\n    var templateWithPropertyEscaped = _.template('<%-x.foo%>');\n    strictEqual(templateWithPropertyEscaped({x: {} }), '');\n    strictEqual(templateWithPropertyEscaped({x: {} }), '');\n  });\n\n  test('interpolate evaluates code only once.', 2, function() {\n    var count = 0;\n    var template = _.template('<%= f() %>');\n    template({f: function(){ ok(!(count++)); }});\n\n    var countEscaped = 0;\n    var templateEscaped = _.template('<%- f() %>');\n    templateEscaped({f: function(){ ok(!(countEscaped++)); }});\n  });\n\n  test('#746 - _.template settings are not modified.', 1, function() {\n    var settings = {};\n    _.template('', null, settings);\n    deepEqual(settings, {});\n  });\n\n  test('#779 - delimeters are applied to unescaped text.', 1, function() {\n    var template = _.template('<<\\nx\\n>>', null, {evaluate: /<<(.*?)>>/g});\n    strictEqual(template(), '<<\\nx\\n>>');\n  });\n\n});\n"]}